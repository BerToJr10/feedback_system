<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('../partials/header') %>
<div class="container my-4">
  <h3>Manage Students</h3>

  <form action="/admin/add-student" method="POST" class="row g-3 mb-3">
    <div class="col-md-4"><input name="fullName" required placeholder="Full Name" class="form-control"></div>
    <div class="col-md-4"><input name="rollNumber" required placeholder="Roll No" class="form-control"></div>
    <div class="col-md-4"><input name="department" placeholder="Department" class="form-control"></div>
    <div class="col-12 text-end"><button class="btn btn-success">Add Student</button></div>
  </form>

  <table class="table table-bordered">
    <thead><tr><th>Name</th><th>Roll No</th><th>Department</th><th>Actions</th></tr></thead>
    <tbody>
      <% students.forEach(s => { %>
        <tr>
          <td><%= s.fullName %></td>
          <td><%= s.rollNumber %></td>
          <td><%= s.department %></td>
          <td>
            <a href="/admin/edit-student/<%= s.id %>" class="btn btn-sm btn-warning">Edit</a>
            <form action="/admin/delete-student/<%= s.id %>" method="POST" class="d-inline">
              <button class="btn btn-sm btn-danger">Delete</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
<%- include('../partials/footer') %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
